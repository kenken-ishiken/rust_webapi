---
name: 要件定義
about: 新機能やAPIエンドポイントの要件定義を作成します
title: '[REQ] '
labels: ['requirement', 'needs-analysis']
assignees: ''

---

# 🎯 要件定義

## 📋 基本情報

### タイトル
<!-- 簡潔で分かりやすい機能名を記載 -->

### 概要
<!-- この機能の目的と背景を簡潔に説明 -->

### 優先度
- [ ] High（緊急）
- [ ] Medium（通常）
- [ ] Low（将来対応）

### 想定工数
<!-- 開発にかかる見積もり時間 -->
- 設計: X時間
- 実装: X時間
- テスト: X時間
- 合計: X時間

## 🎯 機能要件

### ユースケース
<!-- 誰が、いつ、なぜこの機能を使うのか -->

### 機能仕様
<!-- 機能の詳細な動作を記載 -->

#### 入力
<!-- APIの場合はリクエストパラメータ、画面の場合は入力項目 -->

#### 処理
<!-- システムが行う処理の詳細 -->

#### 出力
<!-- APIの場合はレスポンス、画面の場合は表示内容 -->

## 🔌 API仕様（該当する場合）

### エンドポイント
```http
METHOD /api/v1/endpoint
```

### リクエスト
```json
{
  "example": "request body"
}
```

### レスポンス
#### 成功時 (200 OK)
```json
{
  "example": "response body"
}
```

#### エラー時
```json
{
  "error": "error message",
  "code": "ERROR_CODE"
}
```

### 認証・認可
- [ ] 認証が必要
- [ ] 特定の権限が必要
- [ ] 公開API

## 🗄️ データベース設計

### 新規テーブル
<!-- 新しく作成するテーブルがある場合 -->

### 既存テーブル変更
<!-- 既存テーブルの変更がある場合 -->

### マイグレーション
<!-- 必要なマイグレーションスクリプト -->

## ⚡ 非機能要件

### パフォーマンス
- レスポンス時間: X ms以下
- スループット: X req/sec
- 同時接続数: X connections

### セキュリティ
- [ ] 入力値検証
- [ ] SQLインジェクション対策
- [ ] XSS対策
- [ ] CSRF対策
- [ ] レート制限

### 可用性
- [ ] 冗長化対応
- [ ] フェイルオーバー
- [ ] バックアップ・リストア

## 🧪 テスト計画

### 単体テスト
- [ ] ドメインロジックのテスト
- [ ] バリデーションのテスト
- [ ] エラーハンドリングのテスト

### 統合テスト
- [ ] APIエンドポイントのテスト
- [ ] データベース連携のテスト
- [ ] 外部サービス連携のテスト

### パフォーマンステスト
- [ ] 負荷テスト
- [ ] ストレステスト
- [ ] スパイクテスト

### セキュリティテスト
- [ ] 認証・認可テスト
- [ ] 脆弱性テスト
- [ ] ペネトレーションテスト

## ✅ 受け入れ条件

### 機能的条件
- [ ] 仕様通りに動作する
- [ ] エラーハンドリングが適切
- [ ] バリデーションが正しく動作

### 技術的条件
- [ ] すべてのテストが通る
- [ ] コードカバレッジ90%以上
- [ ] Clippyの警告が0個
- [ ] パフォーマンス要件を満たす

### 運用条件
- [ ] ログが適切に出力される
- [ ] メトリクスが取得できる
- [ ] 監視アラートが設定されている
- [ ] ドキュメントが更新されている

## 📝 実装計画

### Phase 1: 設計・準備
- [ ] ドメインモデルの設計
- [ ] APIインターフェースの設計
- [ ] データベーススキーマの設計
- [ ] テスト計画の詳細化

### Phase 2: TDD実装
- [ ] 🔴 Red: 失敗テストの作成
- [ ] 🟢 Green: 最小実装
- [ ] 🔵 Refactor: リファクタリング

### Phase 3: 統合・テスト
- [ ] 統合テストの実装
- [ ] パフォーマンステストの実行
- [ ] セキュリティテストの実行
- [ ] ドキュメントの作成

### Phase 4: デプロイ・運用
- [ ] ステージング環境でのテスト
- [ ] 本番環境へのデプロイ
- [ ] 監視・メトリクスの確認
- [ ] 運用ドキュメントの更新

## 🔗 関連リソース

### 参考資料
<!-- 仕様書、設計書、参考URLなど -->

### 依存関係
<!-- 他のIssueやPRとの依存関係 -->

### 関連Issue
<!-- 関連するIssueがあれば記載 -->

## 📅 スケジュール

### マイルストーン
- 設計完了: YYYY-MM-DD
- 実装完了: YYYY-MM-DD
- テスト完了: YYYY-MM-DD
- リリース予定: YYYY-MM-DD

### 注意事項
<!-- 実装時の注意点や制約事項 -->

---

## チェックリスト（作成者向け）

### 要件定義完了時
- [ ] すべての必須項目が記載されている
- [ ] 受け入れ条件が明確に定義されている
- [ ] テスト計画が具体的に記載されている
- [ ] 非機能要件が適切に定義されている

### レビュー依頼時
- [ ] ステークホルダーへのレビュー依頼
- [ ] 技術的な妥当性の確認
- [ ] 工数見積もりの妥当性確認
- [ ] 優先度の適切性確認

<!-- 
この要件定義は以下のラベルを使用してください：
- requirement: 要件定義
- needs-analysis: 分析が必要
- api: API関連
- database: データベース関連
- security: セキュリティ関連
- performance: パフォーマンス関連
- priority/high: 高優先度
- priority/medium: 中優先度
- priority/low: 低優先度
-->
